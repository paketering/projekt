<!DOCTYPE html>

<html lang="en">

	<head>

		<title></title>
		<meta charset="utf-8" />
		<link href="css/style.css" rel="stylesheet" />
    <script src="scripts/main.js"></script>

	</head>
<body>
<h1>livereload works</h1>
	<div ng-app="app">
		<div ng-controller="MainController">
		<div ng-repeat="sub in subject track by $index" > 
			<button>{{sub.name}}</button>
		</div>
		<form>
				<label>Lägg till nytt ämne</label>
				<br>
				<input type="text" name="" id="" ng-model="name">
				<label>Det har prioritet:</label>
				<input type="number" name="" ng-model="prio">
				  <label>Det har status:</label>
	            <input type="number" name="" id="" ng-model="status">
	            <input type="text" name="" ng-model="links" placeholder="Links">
	            <textarea ng-model="notes"></textarea>
	            <input type="submit" name="" value="Lägg till" ng-click="add()">
			</form>
			<table >
				<tr>
					<th>Vill jag kunna</th>
					<th>Håller på med</th>
					<th>Har lärt mig</th>
				</tr>

			</table>	
					<ul ng-repeat="sub in subject| filter:search" ng-if="sub.prio == 1">
						<li><button ng-click="button = !button">{{sub.name}}</button></li>
						<li ng-show="button">
							<table>
								<tr>
									<td>Prioritet:</td>
									<td ng-hide="sub.edit">{{sub.prio}}<input type="number" name="" ng-show="sub.edit" ng-model="sub.prio"></td>
								</tr>
                                 <tr>
                                 	<td>Status:</td>
                                 	<td ng-hide="sub.edit"> {{sub.status}}</td>
                                 	<td><input type="number" name="" ng-show="sub.edit" ng-model="sub.status"></td>
                                 </tr>
                                 
                                 <tr>
                                 	<td>Länkar:</td>
                                 	<td ng-hide="sub.edit"> {{sub.links}}</td>
                                 	<td><input type="text" name="" ng-show="sub.edit" ng-model="sub.links"></td>
                                 </tr>
                                 <tr>
                                 	<td>Komentar:</td>
                                 	<td ng-hide="sub.edit"> {{sub.notes}}</td>
                                 	<td><textarea ng-show="sub.edit" ng-model="sub.note"></textarea></td>
                                 </tr>

                                 <tr>
                                 	<td><button ng-click="deleteSub(sub._id)">Remove</button></td>
                                    <td>
                                    	<button ng-hide="sub.edit" ng-click="sub.edit = !sub.edit; open();">Edit</button>
                                    	<button ng-show="sub.edit" ng-click="editSub($index)">Save</button>
                                    </td>
                                    
                                 </tr>
							</table>
							</li>
					</ul>
					<ul ng-repeat="sub in subject | filter:search" ng-if="sub.prio == 2">
						<li><button ng-click="button = !button">{{sub.name}}</button></li>
						<li ng-show="button">
							<table>
								<tr><td>Prioritet:</td><td>{{sub.prio}}</td></tr>
                                 <tr><td>Status:</td><td> {{sub.status}}</td></tr>
                                 <tr><td>Länkar:</td><td> {{sub.links}}</td></tr>
                                 <tr><td>Komentar:</td><td> {{sub.notes}}</td></tr>

                                        <tr><td><button ng-click="deleteSub($index)">Remove</button></td>
                                        <td><button  ng-click="editSub(sub._id); open();">Edit</button></td></tr>
							</table>
							</li>
					</ul>
					<ul ng-repeat="sub in subject | filter:search" ng-if="sub.prio == 3">
						<li><button ng-click="button = !button">{{sub.name}}</button></li>
						<li ng-show="button">
							<table>
								<tr><td>Prioritet:</td><td>{{sub.prio}}</td></tr>
                                 <tr><td>Status:</td><td> {{sub.status}}</td></tr>
                                 <tr><td>Länkar:</td><td> {{sub.links}}</td></tr>
                                 <tr><td>Komentar:</td><td> {{sub.notes}}</td></tr>

                                        <tr><td><button  ng-click="deleteSub(sub._id)">Remove</button></td>
                                        <td><button  ng-click="editSub(sub._id); open();">Edit</button></td></tr>
							</table>
							</li>
					</ul>
			
			
		</div>
	</div>
</body>
</html>
